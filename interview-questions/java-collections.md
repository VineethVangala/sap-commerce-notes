# Java Collections interview questions

| **ConcurrentHashMap**                                                                                                                       | **SynchronizedMap**                                                                                                                                     | **HashTable**                                                                                                                                           |
| ------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------- |
| We will get **thread safety without locking the total map object** just with a **bucket level lock.**                                       | We will get thread safety by **locking the whole map** object.                                                                                          | We will get thread safety by **locking the whole map object**                                                                                           |
| At a time **multiple threads are allowed** to operate on map objects safely.                                                                | At a time **only one thread** is allowed to perform any operation on a map object.                                                                      | At a time **one thread** is allowed to operate on a map object.                                                                                         |
| **Read** operation can be performed **without lock** but **write** operation can be performed with **bucket level lock**.                   | Every **read and write** operations required **total map** object                                                                                       | Every **read and write** operations required **total map** object                                                                                       |
| While one thread iterating map objects the **other thread is allowed to modify the map** and **won't get ConcurrentModificationException**. | While one thread iterating map object the **other threads are not allowed to modify** the map otherwise we **will get ConcurrentModificationException** | While one thread iterating map object the **other threads are not allowed to modify** the map otherwise we **will get ConcurrentModificationException** |
| **Iterator** of ConcurrentHashMap is **fail-safe** and won't raise ConcurrentModificationException                                          | Iterator of SynchronizedMap is **fail-fast** and it **will raise ConcurrentModificationException**                                                      | Iterator of HashTable is **fail-fast** and it **will raise ConcurrentModificationException**                                                            |
| **Null** is **not allowed** for **both keys and values**.                                                                                   | Null is **allowed for both keys and values**                                                                                                            | Null is **not allowed for both keys and values**.                                                                                                       |
| Introduce in java 1.5                                                                                                                       | version Introduce in java 1.2 version                                                                                                                   | Introduce in java 1.0version                                                                                                                            |

---

**Differences between HashMap and HashTable in Java.**
|HashMap|Hashtable|
|---|---|
|HashMap is non-synchronized. It is not thread-safe and can’t be shared between many threads without proper synchronization code |whereas Hashtable is synchronized. It is thread-safe and can be shared with many threads.|
|HashMap allows one null key and multiple null values |whereas Hashtable doesn’t allow any null key or value.|

> HashMap is generally preferred over HashTable if thread synchronization is not needed.

---

**Differences between Hashtable and Synchronized HashMap in Java.**

| Hashtable                                                                                                                                                                | Synchronized HashMap                                                                                                                                                      |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Hashtable doesn’t allow even a single null key and null values.                                                                                                          | Synchronized HashMap allows one null key and any number of null values.                                                                                                   |
| Iterators returned by Hashtable are fail-safe in nature. i.e they don’t throw ConcurrentModificationException if the map is modified after the creation of the iterator. | Iterators returned by synchronized HashMap are fail-fast in nature. i.e they throw ConcurrentModificationException if the map is modified after the creation of iterator. |
| HashTable was there since JDK 1.1. From JDK 1.2, it has been made a part of Java Collection Framework.                                                                   | HashMap is introduced in JDK 1.2.                                                                                                                                         |
| HashTable is the legacy class. It is sometimes considered as due for deprecation. So, it is recommended that not to use HashTable in your applications.                  | If you want a high level of data consistency, then only consider using synchronized HashMap.                                                                              |
